# Analysis of Comparison Results

This document provides a detailed interpretation of the results generated by the `08_compare_src_tgt_cs.sh` script, found in the `new_outputs/comparison_src_tgt_cs_results/` directory.

## File Descriptions

*   **`*_score_summary.csv`:** Contains descriptive statistics (mean, median, standard deviation, count) for Perspective API scores (Toxicity, Identity Attack, Insult) for continuations generated from:
    *   Original English source prompts (`_src` columns)
    *   Translated Hindi target prompts (`_tgt` columns)
    *   Code-switched prompts (`_cs` columns)
*   **`*_statistical_tests.csv`:** Shows results from statistical tests (t-test and Wilcoxon signed-rank test) comparing the score distributions between pairs of conditions (e.g., `toxicity_src_vs_toxicity_cs`). Key columns are `wilcoxon_pvalue` and `t_pvalue`.
*   **`*_box_plots.png`:** Visualizes the distribution of scores for each metric across the three conditions (Src, Tgt, CS) using box plots.
*   **`*_heatmap_en_cs.png`:** Shows a heatmap of the correlation between Perspective scores of continuations generated from English prompts and code-switched prompts.
*   **`*_heatmap_hi_cs.png`:** Shows a heatmap of the correlation between Perspective scores of continuations generated from Hindi prompts and code-switched prompts.

## Interpretation of Statistical Tests

The primary goal is to determine if prompting with code-switched text significantly changes the toxicity profile of the generated continuations compared to monolingual prompts (English or Hindi).

We focus on the **Wilcoxon signed-rank test** (`wilcoxon_pvalue`) results, as it doesn't assume a normal distribution of scores. A p-value **less than 0.05** indicates a statistically significant difference between the two groups being compared.

## Key Findings (Based on `*_{score_summary,statistical_tests}.csv`)

Analysis of the scores (Toxicity, Identity Attack, Insult) from continuations generated from English source prompts (Src), Hindi target prompts (Tgt), and Code-Switched prompts (CS) revealed the following statistically significant trends (using Wilcoxon test, p < 0.05):

**Aya (CohereForAI/aya-23-8B):**
*   **CS vs Src:** CS prompts led to significantly lower Toxicity, Identity Attack, and Insult scores compared to Src prompts.
*   **CS vs Tgt:** Differences between CS and Tgt prompts were generally *not* statistically significant.
*   **Src vs Tgt:** Src prompts led to significantly higher Toxicity and Insult scores compared to Tgt prompts.
*   *Conclusion:* For Aya, code-switching significantly mitigated problematic content generation compared to using English prompts.

**Llama 3 (meta-llama/Meta-Llama-3-8B-Instruct):**
*   **CS vs Src:** Differences between CS and Src prompts were *not* statistically significant for any metric.
*   **CS vs Tgt:** CS prompts led to significantly lower Toxicity, Identity Attack, and Insult scores compared to Tgt prompts.
*   **Src vs Tgt:** Tgt prompts led to significantly higher Identity Attack scores compared to Src prompts.
*   *Conclusion:* For Llama 3, code-switching significantly mitigated problematic content generation compared to using Hindi prompts, but not compared to English prompts.

**Llama 3.1 (meta-llama/Meta-Llama-3.1-8B-Instruct):**
*   **CS vs Src:** CS prompts led to significantly lower Toxicity scores compared to Src prompts. Differences for Identity Attack and Insult were not significant (though Insult was borderline p=0.053).
*   **CS vs Tgt:** CS prompts led to significantly lower Toxicity and Insult scores compared to Tgt prompts. The difference for Identity Attack was not significant (though borderline p=0.08).
*   **Src vs Tgt:** No significant differences were found between Src and Tgt prompts for any metric.
*   *Conclusion:* For Llama 3.1, code-switching significantly reduced toxicity compared to both English and Hindi prompts, and also reduced insult compared to Hindi prompts.

**Overall:**
*   The impact of code-switched prompts varies by model.
*   Aya and Llama 3.1 showed the clearest benefit of code-switching in reducing toxicity compared to English prompts.
*   All models showed some benefit of code-switching compared to Hindi prompts.

## Interpretation of Heatmaps

*(Add interpretation of heatmap correlations here once generated and analyzed)*

## Interpretation of Box Plots

*(Add interpretation of box plot distributions here once generated and analyzed)* 