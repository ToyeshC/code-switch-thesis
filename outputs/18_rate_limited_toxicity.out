============================================================================================== 
Warning! Mixing Conda and module environments may lead to corruption of the
user environment. 
We do not recommend users mixing those two environments unless absolutely
necessary. Note that 
SURF does not provide any support for Conda environment.
For more information, please refer to our software policy page:
https://servicedesk.surf.nl/wiki/display/WIKI/Software+policy+Snellius#SoftwarepolicySnellius-UseofAnacondaandMinicondaenvironmentsonSnellius 

Remember that many packages have already been installed on the system and can
be loaded using 
the 'module load <package__name>' command. If you are uncertain if a package is
already available 
on the system, please use 'module avail' or 'module spider' to search for it.
============================================================================================== 
==== Step 1: Checking existing model outputs ====
Found LLaMA responses at: data/output/model_toxicity_analysis/llama_responses.csv
Found Aya responses at: data/output/model_toxicity_analysis/aya_responses.csv
==== Step 2: Extract Responses for Analysis ====
==== Step 3: Analyze Prompts with Rate Limiting ====
Reading input file: data/output/model_toxicity_analysis/prompts_for_analysis.csv
Using column 'comment' for analysis
Found 100 comments to analyze
  0%|          | 0/100 [00:00<?, ?it/s]  1%|          | 1/100 [00:00<00:23,  4.23it/s]  2%|▏         | 2/100 [00:01<01:30,  1.09it/s]  3%|▎         | 3/100 [00:03<01:52,  1.16s/it]  4%|▍         | 4/100 [00:04<02:01,  1.26s/it]  5%|▌         | 5/100 [00:05<02:05,  1.32s/it]  6%|▌         | 6/100 [00:07<02:06,  1.35s/it]  7%|▋         | 7/100 [00:08<02:08,  1.38s/it]  8%|▊         | 8/100 [00:10<02:06,  1.38s/it]  9%|▉         | 9/100 [00:11<02:06,  1.39s/it] 10%|█         | 10/100 [00:12<02:06,  1.40s/it] 11%|█         | 11/100 [00:14<02:05,  1.41s/it] 12%|█▏        | 12/100 [00:15<02:04,  1.41s/it] 13%|█▎        | 13/100 [00:17<02:03,  1.42s/it] 14%|█▍        | 14/100 [00:18<02:02,  1.42s/it] 15%|█▌        | 15/100 [00:20<02:01,  1.43s/it] 16%|█▌        | 16/100 [00:21<02:00,  1.43s/it] 17%|█▋        | 17/100 [00:22<01:58,  1.43s/it] 18%|█▊        | 18/100 [00:24<01:57,  1.43s/it] 19%|█▉        | 19/100 [00:25<01:51,  1.38s/it] 20%|██        | 20/100 [00:27<01:51,  1.40s/it] 21%|██        | 21/100 [00:28<01:51,  1.41s/it] 22%|██▏       | 22/100 [00:29<01:49,  1.41s/it] 23%|██▎       | 23/100 [00:31<01:49,  1.42s/it] 24%|██▍       | 24/100 [00:32<01:48,  1.42s/it] 25%|██▌       | 25/100 [00:34<01:46,  1.42s/it] 26%|██▌       | 26/100 [00:35<01:45,  1.42s/it] 27%|██▋       | 27/100 [00:37<01:43,  1.42s/it] 28%|██▊       | 28/100 [00:38<01:42,  1.42s/it] 29%|██▉       | 29/100 [00:39<01:40,  1.42s/it] 30%|███       | 30/100 [00:41<01:36,  1.37s/it] 31%|███       | 31/100 [00:42<01:34,  1.38s/it] 32%|███▏      | 32/100 [00:44<01:34,  1.39s/it] 33%|███▎      | 33/100 [00:45<01:33,  1.40s/it] 34%|███▍      | 34/100 [00:46<01:31,  1.39s/it] 35%|███▌      | 35/100 [00:48<01:30,  1.39s/it] 36%|███▌      | 36/100 [00:49<01:28,  1.39s/it] 37%|███▋      | 37/100 [00:50<01:27,  1.40s/it] 38%|███▊      | 38/100 [00:52<01:26,  1.39s/it] 39%|███▉      | 39/100 [00:53<01:24,  1.39s/it] 40%|████      | 40/100 [00:55<01:23,  1.40s/it] 41%|████      | 41/100 [00:56<01:22,  1.40s/it] 42%|████▏     | 42/100 [00:58<01:21,  1.41s/it] 43%|████▎     | 43/100 [00:59<01:19,  1.39s/it] 44%|████▍     | 44/100 [01:00<01:18,  1.40s/it] 45%|████▌     | 45/100 [01:02<01:17,  1.41s/it] 46%|████▌     | 46/100 [01:03<01:16,  1.41s/it] 47%|████▋     | 47/100 [01:04<01:14,  1.40s/it] 48%|████▊     | 48/100 [01:06<01:13,  1.41s/it] 49%|████▉     | 49/100 [01:07<01:11,  1.40s/it] 50%|█████     | 50/100 [01:09<01:10,  1.41s/it] 51%|█████     | 51/100 [01:10<01:08,  1.39s/it] 52%|█████▏    | 52/100 [01:11<01:06,  1.39s/it] 53%|█████▎    | 53/100 [01:13<01:05,  1.40s/it] 54%|█████▍    | 54/100 [01:14<01:04,  1.41s/it] 55%|█████▌    | 55/100 [01:16<01:03,  1.41s/it] 56%|█████▌    | 56/100 [01:17<01:02,  1.42s/it] 57%|█████▋    | 57/100 [01:19<01:01,  1.42s/it] 58%|█████▊    | 58/100 [01:20<00:59,  1.42s/it] 59%|█████▉    | 59/100 [01:21<00:57,  1.41s/it] 60%|██████    | 60/100 [01:23<00:56,  1.41s/it] 61%|██████    | 61/100 [01:24<00:55,  1.42s/it] 62%|██████▏   | 62/100 [01:26<00:53,  1.41s/it] 63%|██████▎   | 63/100 [01:27<00:52,  1.41s/it] 64%|██████▍   | 64/100 [01:28<00:50,  1.41s/it] 65%|██████▌   | 65/100 [01:30<00:49,  1.41s/it] 66%|██████▌   | 66/100 [01:31<00:47,  1.40s/it] 67%|██████▋   | 67/100 [01:33<00:46,  1.41s/it] 68%|██████▊   | 68/100 [01:34<00:45,  1.41s/it] 69%|██████▉   | 69/100 [01:36<00:43,  1.42s/it] 70%|███████   | 70/100 [01:37<00:42,  1.42s/it] 71%|███████   | 71/100 [01:38<00:41,  1.43s/it] 72%|███████▏  | 72/100 [01:40<00:40,  1.43s/it] 73%|███████▎  | 73/100 [01:41<00:38,  1.42s/it] 74%|███████▍  | 74/100 [01:43<00:36,  1.42s/it] 75%|███████▌  | 75/100 [01:44<00:35,  1.42s/it] 76%|███████▌  | 76/100 [01:45<00:33,  1.38s/it] 77%|███████▋  | 77/100 [01:47<00:31,  1.39s/it] 78%|███████▊  | 78/100 [01:48<00:30,  1.40s/it] 79%|███████▉  | 79/100 [01:50<00:29,  1.40s/it] 80%|████████  | 80/100 [01:51<00:27,  1.40s/it] 81%|████████  | 81/100 [01:52<00:26,  1.41s/it] 82%|████████▏ | 82/100 [01:54<00:25,  1.41s/it] 83%|████████▎ | 83/100 [01:55<00:24,  1.42s/it] 84%|████████▍ | 84/100 [01:57<00:22,  1.40s/it] 85%|████████▌ | 85/100 [01:58<00:21,  1.41s/it] 86%|████████▌ | 86/100 [01:59<00:19,  1.41s/it] 87%|████████▋ | 87/100 [02:01<00:18,  1.41s/it] 88%|████████▊ | 88/100 [02:02<00:16,  1.40s/it] 89%|████████▉ | 89/100 [02:04<00:15,  1.40s/it] 90%|█████████ | 90/100 [02:05<00:14,  1.41s/it] 91%|█████████ | 91/100 [02:06<00:12,  1.40s/it] 92%|█████████▏| 92/100 [02:08<00:11,  1.41s/it] 93%|█████████▎| 93/100 [02:09<00:09,  1.41s/it] 94%|█████████▍| 94/100 [02:11<00:08,  1.42s/it] 95%|█████████▌| 95/100 [02:12<00:07,  1.42s/it] 96%|█████████▌| 96/100 [02:14<00:05,  1.42s/it] 97%|█████████▋| 97/100 [02:15<00:04,  1.41s/it] 98%|█████████▊| 98/100 [02:16<00:02,  1.40s/it] 99%|█████████▉| 99/100 [02:18<00:01,  1.39s/it]100%|██████████| 100/100 [02:19<00:00,  1.39s/it]100%|██████████| 100/100 [02:19<00:00,  1.40s/it]
Saved progress (5/100)
Saved progress (10/100)
Saved progress (15/100)
Error analyzing comment 19/100: 400
Response: {
  "error": {
    "code": 400,
    "message": "Attribute THREAT does not support request languages: en-Deva",
    "status": "INVALID_ARGUMENT",
    "details": [
      {
        "@type": "type.googleapis.com/google.commentanalyzer.v1alpha1.Error",
        "errorType": "LANGUAGE_NOT_SUPPORTED_BY_ATTRIBUTE",
        "languageNotSupportedByAttributeError": {
          "detectedLanguages": [
            "en-Deva"
          ],
          "attribute": "THREAT"
        }
      }
    ]
  }
}

Saved progress (21/100)
Saved progress (26/100)
Error analyzing comment 30/100: 400
Response: {
  "error": {
    "code": 400,
    "message": "Attribute TOXICITY does not support request languages: en-Deva",
    "status": "INVALID_ARGUMENT",
    "details": [
      {
        "@type": "type.googleapis.com/google.commentanalyzer.v1alpha1.Error",
        "errorType": "LANGUAGE_NOT_SUPPORTED_BY_ATTRIBUTE",
        "languageNotSupportedByAttributeError": {
          "detectedLanguages": [
            "en-Deva"
          ],
          "attribute": "TOXICITY"
        }
      }
    ]
  }
}

Saved progress (32/100)
Saved progress (37/100)
Saved progress (42/100)
Saved progress (47/100)
Saved progress (52/100)
Saved progress (57/100)
Saved progress (62/100)
Saved progress (67/100)
Saved progress (72/100)
Error analyzing comment 76/100: 400
Response: {
  "error": {
    "code": 400,
    "message": "Attribute THREAT does not support request languages: en-Deva",
    "status": "INVALID_ARGUMENT",
    "details": [
      {
        "@type": "type.googleapis.com/google.commentanalyzer.v1alpha1.Error",
        "errorType": "LANGUAGE_NOT_SUPPORTED_BY_ATTRIBUTE",
        "languageNotSupportedByAttributeError": {
          "detectedLanguages": [
            "en-Deva"
          ],
          "attribute": "THREAT"
        }
      }
    ]
  }
}

Saved progress (78/100)
Saved progress (83/100)
Saved progress (88/100)
Saved progress (93/100)
Saved progress (98/100)
Saving final results to data/output/model_toxicity_analysis/prompt_toxicity.csv
Analysis complete. Processed 97 comments out of 100.
==== Step 4: Analyze LLaMA Responses with Rate Limiting ====
Reading input file: data/output/model_toxicity_analysis/llama_for_analysis.csv
Using column 'comment' for analysis
Found 100 comments to analyze
  0%|          | 0/100 [00:00<?, ?it/s]  1%|          | 1/100 [00:00<00:20,  4.75it/s]  2%|▏         | 2/100 [00:01<01:30,  1.08it/s]  3%|▎         | 3/100 [00:03<01:51,  1.15s/it]  4%|▍         | 4/100 [00:04<01:59,  1.24s/it]  5%|▌         | 5/100 [00:05<02:04,  1.31s/it]  6%|▌         | 6/100 [00:07<02:06,  1.35s/it]  7%|▋         | 7/100 [00:08<02:08,  1.38s/it]  8%|▊         | 8/100 [00:10<02:08,  1.39s/it]  9%|▉         | 9/100 [00:11<02:07,  1.40s/it] 10%|█         | 10/100 [00:12<02:04,  1.38s/it] 11%|█         | 11/100 [00:14<02:02,  1.38s/it] 12%|█▏        | 12/100 [00:15<02:02,  1.39s/it] 13%|█▎        | 13/100 [00:17<02:01,  1.40s/it] 14%|█▍        | 14/100 [00:18<02:01,  1.41s/it] 15%|█▌        | 15/100 [00:19<02:00,  1.41s/it] 16%|█▌        | 16/100 [00:21<01:58,  1.42s/it] 17%|█▋        | 17/100 [00:22<01:55,  1.39s/it] 18%|█▊        | 18/100 [00:24<01:54,  1.40s/it] 19%|█▉        | 19/100 [00:25<01:53,  1.40s/it] 20%|██        | 20/100 [00:26<01:51,  1.39s/it] 21%|██        | 21/100 [00:28<01:50,  1.40s/it] 22%|██▏       | 22/100 [00:29<01:49,  1.41s/it] 23%|██▎       | 23/100 [00:31<01:46,  1.39s/it] 24%|██▍       | 24/100 [00:32<01:46,  1.40s/it] 25%|██▌       | 25/100 [00:33<01:44,  1.39s/it] 26%|██▌       | 26/100 [00:35<01:44,  1.41s/it] 27%|██▋       | 27/100 [00:36<01:43,  1.41s/it] 28%|██▊       | 28/100 [00:38<01:42,  1.42s/it] 29%|██▉       | 29/100 [00:39<01:40,  1.42s/it] 30%|███       | 30/100 [00:41<01:39,  1.42s/it] 31%|███       | 31/100 [00:42<01:37,  1.41s/it] 32%|███▏      | 32/100 [00:43<01:36,  1.42s/it] 33%|███▎      | 33/100 [00:45<01:35,  1.42s/it] 34%|███▍      | 34/100 [00:46<01:33,  1.41s/it] 35%|███▌      | 35/100 [00:48<01:32,  1.42s/it] 36%|███▌      | 36/100 [00:49<01:30,  1.42s/it] 37%|███▋      | 37/100 [00:50<01:29,  1.42s/it] 38%|███▊      | 38/100 [00:52<01:28,  1.42s/it] 39%|███▉      | 39/100 [00:53<01:26,  1.42s/it] 40%|████      | 40/100 [00:55<01:24,  1.42s/it] 41%|████      | 41/100 [00:56<01:23,  1.42s/it] 42%|████▏     | 42/100 [00:58<01:22,  1.42s/it] 43%|████▎     | 43/100 [00:59<01:20,  1.41s/it] 44%|████▍     | 44/100 [01:00<01:18,  1.40s/it] 45%|████▌     | 45/100 [01:02<01:17,  1.40s/it] 46%|████▌     | 46/100 [01:03<01:15,  1.40s/it] 47%|████▋     | 47/100 [01:05<01:14,  1.40s/it] 48%|████▊     | 48/100 [01:06<01:13,  1.41s/it] 49%|████▉     | 49/100 [01:07<01:12,  1.41s/it] 50%|█████     | 50/100 [01:09<01:10,  1.40s/it] 51%|█████     | 51/100 [01:10<01:08,  1.40s/it] 52%|█████▏    | 52/100 [01:12<01:07,  1.41s/it] 53%|█████▎    | 53/100 [01:13<01:05,  1.40s/it] 54%|█████▍    | 54/100 [01:14<01:04,  1.39s/it] 55%|█████▌    | 55/100 [01:16<01:03,  1.40s/it] 56%|█████▌    | 56/100 [01:17<01:01,  1.40s/it] 57%|█████▋    | 57/100 [01:19<00:59,  1.39s/it] 58%|█████▊    | 58/100 [01:20<00:58,  1.40s/it] 59%|█████▉    | 59/100 [01:21<00:57,  1.41s/it] 60%|██████    | 60/100 [01:23<00:56,  1.41s/it] 61%|██████    | 61/100 [01:24<00:54,  1.41s/it] 62%|██████▏   | 62/100 [01:26<00:53,  1.41s/it] 63%|██████▎   | 63/100 [01:27<00:52,  1.41s/it] 64%|██████▍   | 64/100 [01:28<00:50,  1.40s/it] 65%|██████▌   | 65/100 [01:30<00:48,  1.39s/it] 66%|██████▌   | 66/100 [01:31<00:47,  1.39s/it] 67%|██████▋   | 67/100 [01:33<00:45,  1.39s/it] 68%|██████▊   | 68/100 [01:34<00:44,  1.40s/it] 69%|██████▉   | 69/100 [01:35<00:43,  1.41s/it] 70%|███████   | 70/100 [01:37<00:42,  1.41s/it] 71%|███████   | 71/100 [01:38<00:41,  1.42s/it] 72%|███████▏  | 72/100 [01:40<00:39,  1.41s/it] 73%|███████▎  | 73/100 [01:41<00:38,  1.41s/it] 74%|███████▍  | 74/100 [01:43<00:36,  1.42s/it] 75%|███████▌  | 75/100 [01:44<00:35,  1.42s/it] 76%|███████▌  | 76/100 [01:45<00:34,  1.42s/it] 77%|███████▋  | 77/100 [01:47<00:32,  1.43s/it] 78%|███████▊  | 78/100 [01:48<00:31,  1.42s/it] 79%|███████▉  | 79/100 [01:50<00:29,  1.41s/it] 80%|████████  | 80/100 [01:51<00:28,  1.42s/it] 81%|████████  | 81/100 [01:52<00:26,  1.42s/it] 82%|████████▏ | 82/100 [01:54<00:25,  1.42s/it] 83%|████████▎ | 83/100 [01:55<00:24,  1.42s/it] 84%|████████▍ | 84/100 [01:57<00:22,  1.42s/it] 85%|████████▌ | 85/100 [01:58<00:21,  1.42s/it] 86%|████████▌ | 86/100 [02:00<00:19,  1.41s/it] 87%|████████▋ | 87/100 [02:01<00:18,  1.40s/it] 88%|████████▊ | 88/100 [02:02<00:16,  1.39s/it] 89%|████████▉ | 89/100 [02:04<00:15,  1.39s/it] 90%|█████████ | 90/100 [02:05<00:14,  1.40s/it] 91%|█████████ | 91/100 [02:07<00:12,  1.42s/it] 92%|█████████▏| 92/100 [02:08<00:11,  1.41s/it] 93%|█████████▎| 93/100 [02:09<00:09,  1.41s/it] 94%|█████████▍| 94/100 [02:11<00:08,  1.41s/it] 95%|█████████▌| 95/100 [02:12<00:07,  1.42s/it] 96%|█████████▌| 96/100 [02:14<00:05,  1.42s/it] 97%|█████████▋| 97/100 [02:15<00:04,  1.42s/it] 98%|█████████▊| 98/100 [02:16<00:02,  1.42s/it] 99%|█████████▉| 99/100 [02:18<00:01,  1.41s/it]100%|██████████| 100/100 [02:19<00:00,  1.39s/it]100%|██████████| 100/100 [02:19<00:00,  1.40s/it]
Saved progress (5/100)
Saved progress (10/100)
Saved progress (15/100)
Saved progress (20/100)
Saved progress (25/100)
Saved progress (30/100)
Saved progress (35/100)
Saved progress (40/100)
Saved progress (45/100)
Saved progress (50/100)
Saved progress (55/100)
Saved progress (60/100)
Saved progress (65/100)
Saved progress (70/100)
Saved progress (75/100)
Saved progress (80/100)
Saved progress (85/100)
Saved progress (90/100)
Saved progress (95/100)
Saved progress (100/100)
Saving final results to data/output/model_toxicity_analysis/llama_toxicity.csv
Analysis complete. Processed 100 comments out of 100.
==== Step 5: Analyze Aya Responses with Rate Limiting ====
Reading input file: data/output/model_toxicity_analysis/aya_for_analysis.csv
Using column 'comment' for analysis
Found 100 comments to analyze
  0%|          | 0/100 [00:00<?, ?it/s]  1%|          | 1/100 [00:00<00:22,  4.46it/s]  2%|▏         | 2/100 [00:01<01:31,  1.08it/s]  3%|▎         | 3/100 [00:03<01:52,  1.16s/it]  4%|▍         | 4/100 [00:04<01:58,  1.24s/it]  5%|▌         | 5/100 [00:05<02:04,  1.31s/it]  6%|▌         | 6/100 [00:07<02:07,  1.35s/it]  7%|▋         | 7/100 [00:08<02:08,  1.38s/it]  8%|▊         | 8/100 [00:10<02:08,  1.40s/it]  9%|▉         | 9/100 [00:11<02:07,  1.40s/it] 10%|█         | 10/100 [00:13<02:06,  1.41s/it] 11%|█         | 11/100 [00:14<02:04,  1.40s/it] 12%|█▏        | 12/100 [00:15<02:03,  1.41s/it] 13%|█▎        | 13/100 [00:17<02:01,  1.40s/it] 14%|█▍        | 14/100 [00:18<02:02,  1.42s/it] 15%|█▌        | 15/100 [00:20<02:00,  1.42s/it] 16%|█▌        | 16/100 [00:21<01:58,  1.41s/it] 17%|█▋        | 17/100 [00:22<01:57,  1.41s/it] 18%|█▊        | 18/100 [00:24<01:56,  1.42s/it] 19%|█▉        | 19/100 [00:25<01:55,  1.42s/it] 20%|██        | 20/100 [00:27<01:53,  1.42s/it] 21%|██        | 21/100 [00:28<02:00,  1.53s/it] 22%|██▏       | 22/100 [00:30<01:56,  1.50s/it] 23%|██▎       | 23/100 [00:31<01:52,  1.46s/it] 24%|██▍       | 24/100 [00:33<01:50,  1.45s/it] 25%|██▌       | 25/100 [00:34<01:47,  1.43s/it] 26%|██▌       | 26/100 [00:35<01:44,  1.42s/it] 27%|██▋       | 27/100 [00:37<01:43,  1.42s/it] 28%|██▊       | 28/100 [00:38<01:42,  1.42s/it] 29%|██▉       | 29/100 [00:40<01:40,  1.41s/it] 30%|███       | 30/100 [00:41<01:39,  1.41s/it] 31%|███       | 31/100 [00:43<01:38,  1.42s/it] 32%|███▏      | 32/100 [00:44<01:37,  1.43s/it] 33%|███▎      | 33/100 [00:45<01:35,  1.43s/it] 34%|███▍      | 34/100 [00:47<01:34,  1.43s/it] 35%|███▌      | 35/100 [00:48<01:32,  1.43s/it] 36%|███▌      | 36/100 [00:50<01:33,  1.46s/it] 37%|███▋      | 37/100 [00:51<01:30,  1.44s/it] 38%|███▊      | 38/100 [00:53<01:28,  1.43s/it] 39%|███▉      | 39/100 [00:54<01:26,  1.42s/it] 40%|████      | 40/100 [00:55<01:24,  1.41s/it] 41%|████      | 41/100 [00:57<01:21,  1.39s/it] 42%|████▏     | 42/100 [00:58<01:21,  1.40s/it] 43%|████▎     | 43/100 [01:00<01:20,  1.41s/it] 44%|████▍     | 44/100 [01:01<01:18,  1.40s/it] 45%|████▌     | 45/100 [01:02<01:17,  1.41s/it] 46%|████▌     | 46/100 [01:04<01:19,  1.48s/it] 47%|████▋     | 47/100 [01:05<01:17,  1.46s/it] 48%|████▊     | 48/100 [01:07<01:14,  1.44s/it] 49%|████▉     | 49/100 [01:08<01:13,  1.43s/it] 50%|█████     | 50/100 [01:10<01:11,  1.44s/it] 51%|█████     | 51/100 [01:11<01:09,  1.41s/it] 52%|█████▏    | 52/100 [01:12<01:07,  1.42s/it] 53%|█████▎    | 53/100 [01:14<01:06,  1.41s/it] 54%|█████▍    | 54/100 [01:15<01:04,  1.41s/it] 55%|█████▌    | 55/100 [01:17<01:02,  1.40s/it] 56%|█████▌    | 56/100 [01:18<01:01,  1.41s/it] 57%|█████▋    | 57/100 [01:20<01:01,  1.42s/it] 58%|█████▊    | 58/100 [01:21<00:59,  1.42s/it] 59%|█████▉    | 59/100 [01:22<00:58,  1.42s/it] 60%|██████    | 60/100 [01:24<00:58,  1.46s/it] 61%|██████    | 61/100 [01:25<00:56,  1.44s/it] 62%|██████▏   | 62/100 [01:27<00:54,  1.43s/it] 63%|██████▎   | 63/100 [01:28<00:52,  1.43s/it] 64%|██████▍   | 64/100 [01:30<00:51,  1.43s/it] 65%|██████▌   | 65/100 [01:31<00:49,  1.43s/it] 66%|██████▌   | 66/100 [01:32<00:47,  1.41s/it] 67%|██████▋   | 67/100 [01:34<00:46,  1.41s/it] 68%|██████▊   | 68/100 [01:35<00:45,  1.41s/it] 69%|██████▉   | 69/100 [01:37<00:43,  1.40s/it] 70%|███████   | 70/100 [01:38<00:41,  1.39s/it] 71%|███████   | 71/100 [01:39<00:40,  1.40s/it] 72%|███████▏  | 72/100 [01:41<00:39,  1.41s/it] 73%|███████▎  | 73/100 [01:42<00:38,  1.42s/it] 74%|███████▍  | 74/100 [01:44<00:36,  1.42s/it] 75%|███████▌  | 75/100 [01:45<00:35,  1.42s/it] 76%|███████▌  | 76/100 [01:46<00:32,  1.37s/it] 77%|███████▋  | 77/100 [01:48<00:31,  1.36s/it] 78%|███████▊  | 78/100 [01:49<00:30,  1.37s/it] 79%|███████▉  | 79/100 [01:51<00:29,  1.39s/it] 80%|████████  | 80/100 [01:52<00:30,  1.51s/it] 81%|████████  | 81/100 [01:54<00:28,  1.48s/it] 82%|████████▏ | 82/100 [01:55<00:26,  1.46s/it] 83%|████████▎ | 83/100 [01:57<00:24,  1.43s/it] 84%|████████▍ | 84/100 [01:58<00:22,  1.43s/it] 85%|████████▌ | 85/100 [01:59<00:21,  1.43s/it] 86%|████████▌ | 86/100 [02:01<00:19,  1.41s/it] 87%|████████▋ | 87/100 [02:02<00:18,  1.40s/it] 88%|████████▊ | 88/100 [02:03<00:16,  1.40s/it] 89%|████████▉ | 89/100 [02:05<00:15,  1.39s/it] 90%|█████████ | 90/100 [02:06<00:13,  1.39s/it] 91%|█████████ | 91/100 [02:08<00:12,  1.40s/it] 92%|█████████▏| 92/100 [02:09<00:11,  1.41s/it] 93%|█████████▎| 93/100 [02:11<00:09,  1.41s/it] 94%|█████████▍| 94/100 [02:12<00:08,  1.42s/it] 95%|█████████▌| 95/100 [02:13<00:07,  1.40s/it] 96%|█████████▌| 96/100 [02:15<00:06,  1.52s/it] 97%|█████████▋| 97/100 [02:17<00:04,  1.49s/it] 98%|█████████▊| 98/100 [02:18<00:02,  1.46s/it] 99%|█████████▉| 99/100 [02:19<00:01,  1.45s/it]100%|██████████| 100/100 [02:21<00:00,  1.44s/it]100%|██████████| 100/100 [02:21<00:00,  1.41s/it]
Saved progress (5/100)
Saved progress (10/100)
Saved progress (15/100)
Saved progress (20/100)
Saved progress (25/100)
Saved progress (30/100)
Saved progress (35/100)
Saved progress (40/100)
Saved progress (45/100)
Saved progress (50/100)
Saved progress (55/100)
Saved progress (60/100)
Saved progress (65/100)
Saved progress (70/100)
Saved progress (75/100)
Error analyzing comment 76/100: 400
Response: {
  "error": {
    "code": 400,
    "message": "Attribute THREAT does not support request languages: en-Deva",
    "status": "INVALID_ARGUMENT",
    "details": [
      {
        "@type": "type.googleapis.com/google.commentanalyzer.v1alpha1.Error",
        "errorType": "LANGUAGE_NOT_SUPPORTED_BY_ATTRIBUTE",
        "languageNotSupportedByAttributeError": {
          "detectedLanguages": [
            "en-Deva"
          ],
          "attribute": "THREAT"
        }
      }
    ]
  }
}

Saved progress (81/100)
Saved progress (86/100)
Saved progress (91/100)
Saved progress (96/100)
Saving final results to data/output/model_toxicity_analysis/aya_toxicity.csv
Analysis complete. Processed 99 comments out of 100.
==== Step 6: Run Statistical Analysis ====
Looking for config.py at: /gpfs/home6/tchakravorty/code-switch-thesis/src/config.py
Config file content:
# Perspective API key
PERSPECTIVE_API_KEY = "AIzaSyDf0c2MkAItSv7TBFps65WavRFLP-N275Y" 
Extracted PERSPECTIVE_API_KEY: AIzaS...N275Y
Successfully imported API key from config.py
Successfully imported analyze_comments function
Reading code-switched prompts from data/output/hindi/(yes) filtered_output_small.csv
Skipping generation step, using existing response files
Loaded LLaMA responses from data/output/model_toxicity_analysis/llama_responses.csv
LLaMA DataFrame shape: (100, 3)
LLaMA columns: ['prompt', 'response', 'model']
Loaded Aya responses from data/output/model_toxicity_analysis/aya_responses.csv
Aya DataFrame shape: (100, 3)
Aya columns: ['prompt', 'response', 'model']
Skipping Perspective API analysis, using existing analysis files
Loaded toxicity data from data/output/model_toxicity_analysis/prompt_toxicity.csv, data/output/model_toxicity_analysis/llama_toxicity.csv, and data/output/model_toxicity_analysis/aya_toxicity.csv
Columns in prompt toxicity: ['comment', 'toxicity', 'severe_toxicity', 'identity_attack', 'insult', 'profanity', 'threat']
Columns in LLaMA toxicity: ['comment', 'toxicity', 'severe_toxicity', 'identity_attack', 'insult', 'profanity', 'threat']
Columns in Aya toxicity: ['comment', 'toxicity', 'severe_toxicity', 'identity_attack', 'insult', 'profanity', 'threat']

===== Performing Statistical Analysis =====

Prompts DataFrame columns: ['comment', 'toxicity', 'severe_toxicity', 'identity_attack', 'insult', 'profanity', 'threat']
LLaMA DataFrame columns: ['comment', 'toxicity', 'severe_toxicity', 'identity_attack', 'insult', 'profanity', 'threat']
Aya DataFrame columns: ['comment', 'toxicity', 'severe_toxicity', 'identity_attack', 'insult', 'profanity', 'threat']

After transformation:
Prompts DataFrame columns: ['prompt', 'toxicity', 'severe_toxicity', 'identity_attack', 'insult', 'profanity', 'threat']
LLaMA DataFrame columns: ['prompt', 'toxicity', 'severe_toxicity', 'identity_attack', 'insult', 'profanity', 'threat']
Aya DataFrame columns: ['prompt', 'toxicity', 'severe_toxicity', 'identity_attack', 'insult', 'profanity', 'threat']

Merging LLaMA data with prompts...
Merging Aya data with prompts...
Merging all datasets...
Traceback (most recent call last):
  File "/gpfs/home6/tchakravorty/code-switch-thesis/src/analyze_model_toxicity.py", line 601, in <module>
    main() 
  File "/gpfs/home6/tchakravorty/code-switch-thesis/src/analyze_model_toxicity.py", line 591, in main
    analysis_results = analyze_toxicity_comparison(
  File "/gpfs/home6/tchakravorty/code-switch-thesis/src/analyze_model_toxicity.py", line 250, in analyze_toxicity_comparison
    all_merged = pd.merge(llama_merged, aya_merged, on=prompt_cols, suffixes=('_llama', '_aya'))
  File "/home/tchakravorty/.conda/envs/code-switch/lib/python3.10/site-packages/pandas/core/reshape/merge.py", line 170, in merge
    op = _MergeOperation(
  File "/home/tchakravorty/.conda/envs/code-switch/lib/python3.10/site-packages/pandas/core/reshape/merge.py", line 794, in __init__
    ) = self._get_merge_keys()
  File "/home/tchakravorty/.conda/envs/code-switch/lib/python3.10/site-packages/pandas/core/reshape/merge.py", line 1297, in _get_merge_keys
    right_keys.append(right._get_label_or_level_values(rk))
  File "/home/tchakravorty/.conda/envs/code-switch/lib/python3.10/site-packages/pandas/core/generic.py", line 1911, in _get_label_or_level_values
    raise KeyError(key)
KeyError: 'toxicity'
Analysis complete! Results saved to data/output/model_toxicity_analysis/analysis

JOB STATISTICS
==============
Job ID: 10651795
Cluster: snellius
User/Group: tchakravorty/tchakravorty
State: RUNNING
Nodes: 1
Cores per node: 18
CPU Utilized: 00:00:00
CPU Efficiency: 0.00% of 02:11:24 core-walltime
Job Wall-clock time: 00:07:18
Memory Utilized: 0.00 MB (estimated maximum)
Memory Efficiency: 0.00% of 32.00 GB (32.00 GB/node)
WARNING: Efficiency statistics may be misleading for RUNNING jobs.
